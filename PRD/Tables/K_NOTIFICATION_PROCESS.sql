CREATE TABLE [PRD].[K_NOTIFICATION_PROCESS] (
    [ID_NOTIFICATION]           INT             IDENTITY (1, 1) NOT NULL,
    [KY_USER]                   NVARCHAR (50)   NOT NULL,
    [KY_PROCESS_TYPE]           NVARCHAR (10)   NOT NULL,
    [KY_STATUS]                 NVARCHAR (50)   NOT NULL,
    [XML_PROCESS_CONFIGURATION] XML             NOT NULL,
    [NO_ATTEMPT_NUMBER]         INT             CONSTRAINT [DF_K_NOTIFICATION_PROCESS_NO_ATTEMPT_NUMBER] DEFAULT ((0)) NOT NULL,
    [DS_ERROR]                  NVARCHAR (1000) NULL,
    [DT_NOTIFICATION]           DATETIME        NOT NULL,
    [DT_SENDED]                 DATETIME        NULL,
    [DT_WAITING]                DATETIME        NULL,
    [DT_CLOSE]                  DATETIME        NULL,
    [ID_BRANCH_PLANT]           INT             NULL,
    [ID_NOTIFICATION_REFERENCE] INT             NULL,
    [KY_NOTIFICATION_ORIGIN]    NVARCHAR (10)   NULL,
    [KY_CLOSE_TYPE]             NVARCHAR (10)   CONSTRAINT [DF_K_NOTIFICATION_PROCESS__KY_CLOSE_TYPE] DEFAULT (NULL) NULL,
    [NO_LEVEL]                  INT             NULL,
    [FG_ATTENDED]               BIT             NULL,
    [DT_CREATION]               DATETIME        NOT NULL,
    [DT_UPDATE]                 DATETIME        NULL,
    [KY_USER_APP_CREATION]      NVARCHAR (50)   NOT NULL,
    [KY_USER_APP_UPDATE]        NVARCHAR (50)   NULL,
    [NM_PROGAM_CREATE]          NVARCHAR (50)   NOT NULL,
    [NM_PROGRAM_UPDATE]         NVARCHAR (50)   NULL,
    CONSTRAINT [PK_K_NOTIFICATION_PROCESS] PRIMARY KEY CLUSTERED ([ID_NOTIFICATION] ASC),
    CONSTRAINT [FK_K_NOTIFICATION_PROCESS_C_BRANCH_PLANT] FOREIGN KEY ([ID_BRANCH_PLANT]) REFERENCES [ADM].[C_BRANCH_PLANT] ([ID_BRANCH_PLANT])
);


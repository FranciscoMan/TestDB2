CREATE TABLE [PRD].[K_WORK_ORDER] (
    [ID_WORK_ORDER]            INT            NOT NULL,
    [KY_CUSTOMER]              NVARCHAR (50)  NULL,
    [NM_CUSTOMER]              NVARCHAR (200) NOT NULL,
    [NO_WORK_ORDER]            INT            NOT NULL,
    [NO_ASSIGNED_TIME]         AS             (isnull([NO_PRODUCTION_TIME],(0))+isnull([NO_TRANSITIONS_TIME],(0))),
    [NO_ASSIGNED_TIME_HRS]     AS             (CONVERT([decimal](13,2),isnull([NO_PRODUCTION_TIME],(0))+isnull([NO_TRANSITIONS_TIME],(0)))/CONVERT([decimal](13,2),(60))),
    [NO_PRODUCTION_TIME]       INT            NULL,
    [NO_TRANSITIONS_TIME]      INT            NULL,
    [KY_TRANSITION]            NVARCHAR (50)  NULL,
    [NM_TRANSITION]            NVARCHAR (100) NULL,
    [NO_STANDARD_TIME]         INT            NULL,
    [ID_ITEM]                  INT            NOT NULL,
    [NM_ITEM]                  NVARCHAR (100) NOT NULL,
    [ID_BRANCH_PLANT]          INT            NOT NULL,
    [ID_PRODUCTION_LINE]       INT            NOT NULL,
    [NM_PRODUCTION_LINE]       NVARCHAR (300) NOT NULL,
    [DT_WORK_ORDER]            DATETIME       NOT NULL,
    [DT_START_WORK_ORDER]      DATETIME       NULL,
    [NO_RUN_QTY]               INT            NOT NULL,
    [NO_BOX_QTY]               INT            NOT NULL,
    [NM_MATERIAL]              NVARCHAR (200) CONSTRAINT [DF_K_WORK_ORDER_NM_MATERIAL] DEFAULT (N'-') NOT NULL,
    [NM_COLOR]                 NVARCHAR (100) CONSTRAINT [DF_K_WORK_ORDER_NM_COLOR] DEFAULT (N'-') NOT NULL,
    [NO_LENGHT]                FLOAT (53)     CONSTRAINT [DF_K_WORK_ORDER_NO_LENGHT] DEFAULT ((0)) NOT NULL,
    [NO_WIDTH]                 FLOAT (53)     CONSTRAINT [DF_K_WORK_ORDER_NO_WIDTH] DEFAULT ((0)) NOT NULL,
    [NO_THICKNESS]             FLOAT (53)     CONSTRAINT [DF_K_WORK_ORDER_NO_THICKNESS] DEFAULT ((0)) NOT NULL,
    [NO_POUNDS]                FLOAT (53)     NULL,
    [KY_PACKAGE]               NVARCHAR (50)  NULL,
    [PACKED]                   INT            NULL,
    [DT_REQ_DATE]              DATETIME       NULL,
    [NO_ORDER]                 INT            NULL,
    [NO_SEQ]                   INT            NULL,
    [NO_HRS_LABOR_MACHINE]     INT            NULL,
    [NO_QTY_SKID]              FLOAT (53)     NULL,
    [DT_ORDER]                 DATETIME       NULL,
    [NO_SHIPING_WEIGHT_PER_HR] FLOAT (53)     NULL,
    [KY_UPC]                   NVARCHAR (20)  NULL,
    [KY_STATUS]                NVARCHAR (50)  NULL,
    [ID_WORK_ORDER_ORIGIN]     INT            NULL,
    [ID_PALLET]                INT            NULL,
    [DT_CLOSE_WORK_ORDER]      DATETIME       NULL,
    [ID_ISSUE_CAUSE_SKIPPED]   INT            NULL,
    [NO_QTY_ADDED]             INT            CONSTRAINT [DF_K_WORK_ORDER_NO_QTY_ADDED] DEFAULT ((0)) NULL,
    [DT_CREATION]              DATETIME       NOT NULL,
    [DT_UPDATE]                DATETIME       NULL,
    [KY_USER_APP_CREATION]     NVARCHAR (50)  NOT NULL,
    [KY_USER_APP_UPDATE]       NVARCHAR (50)  NULL,
    [NM_PROGAM_CREATE]         NVARCHAR (50)  NOT NULL,
    [NM_PROGRAM_UPDATE]        NVARCHAR (50)  NULL,
    CONSTRAINT [PK_K_WORK_ORDER] PRIMARY KEY CLUSTERED ([ID_WORK_ORDER] ASC),
    CONSTRAINT [FK_K_WORK_ORDER_C_BRANCH_PLANT] FOREIGN KEY ([ID_BRANCH_PLANT]) REFERENCES [ADM].[C_BRANCH_PLANT] ([ID_BRANCH_PLANT]),
    CONSTRAINT [FK_K_WORK_ORDER_C_ITEM] FOREIGN KEY ([ID_ITEM]) REFERENCES [PRD].[C_ITEM] ([ID_ITEM]),
    CONSTRAINT [FK_K_WORK_ORDER_C_PRODUCTION_LINE] FOREIGN KEY ([ID_PRODUCTION_LINE]) REFERENCES [PRD].[C_PRODUCTION_LINE] ([ID_PRODUCTION_LINE]),
    CONSTRAINT [FK_K_WORK_ORDER_K_PALLET] FOREIGN KEY ([ID_PALLET]) REFERENCES [PRD].[K_PALLET] ([ID_PALLET]),
    CONSTRAINT [FK_K_WORK_ORDER_K_WORK_ORDER] FOREIGN KEY ([ID_WORK_ORDER_ORIGIN]) REFERENCES [PRD].[K_WORK_ORDER] ([ID_WORK_ORDER])
);

